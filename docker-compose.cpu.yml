# =============================================================================
# AI Secretary System - CPU Mode (no GPU required)
# =============================================================================
#
# Uses Piper TTS (CPU) + Gemini API instead of XTTS + vLLM.
#
# Usage:
#   docker compose -f docker-compose.yml -f docker-compose.cpu.yml up -d
#
# =============================================================================

services:
  orchestrator:
    build:
      target: cpu
    image: ai-secretary:cpu
    environment:
      # Use cloud LLM instead of local vLLM
      - LLM_BACKEND=gemini
      - VLLM_API_URL=
      - GEMINI_API_KEY=${GEMINI_API_KEY:?GEMINI_API_KEY required for CPU mode}
      # Disable CUDA
      - CUDA_VISIBLE_DEVICES=
    deploy:
      resources:
        reservations:
          devices: []  # No GPU
