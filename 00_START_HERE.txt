╔═══════════════════════════════════════════════════════════════════╗
║                                                                   ║
║          🤖 AI SECRETARY SYSTEM "МАРИНА" 🤖                        ║
║                                                                   ║
║   Виртуальный секретарь с клонированием голоса                   ║
║   Принимает звонки и общается с клиентами                        ║
║                                                                   ║
╚═══════════════════════════════════════════════════════════════════╝

📋 БЫСТРЫЙ СТАРТ:
═══════════════════════════════════════════════════════════════════

1️⃣  УСТАНОВКА
   ./setup.sh

2️⃣  НАСТРОЙКА API КЛЮЧА
   nano .env
   # Добавьте: GEMINI_API_KEY=ваш_ключ
   # Получить: https://makersuite.google.com/app/apikey

3️⃣  ЗАПУСК
   ./run.sh

4️⃣  ТЕСТИРОВАНИЕ
   ./test_system.sh


📁 ФАЙЛЫ ПРОЕКТА:
═══════════════════════════════════════════════════════════════════

📚 ДОКУМЕНТАЦИЯ (читайте в этом порядке):
   ├── QUICKSTART.md       ← Начните отсюда!
   ├── README.md           ← Полная документация
   ├── ARCHITECTURE.md     ← Как всё устроено
   ├── examples.md         ← Примеры использования
   ├── CHEATSHEET.md       ← Шпаргалка с командами
   └── PROJECT_SUMMARY.md  ← Итоговая сводка

🔧 ОСНОВНЫЕ СЕРВИСЫ:
   ├── orchestrator.py          # Главный координатор (порт 8000)
   ├── phone_service.py         # Телефонная интеграция (порт 8001)
   ├── voice_clone_service.py   # Клонирование голоса (XTTS v2)
   ├── stt_service.py          # Распознавание речи (Whisper)
   └── llm_service.py          # Генерация ответов (Gemini)

⚙️  КОНФИГУРАЦИЯ:
   ├── .env                # API ключи и настройки ← НАСТРОЙТЕ!
   ├── requirements.txt    # Python зависимости
   └── docker-compose.yml  # Docker оркестрация

🚀 СКРИПТЫ УПРАВЛЕНИЯ:
   ├── setup.sh            # Установка системы
   ├── run.sh             # Запуск системы
   └── test_system.sh     # Тестирование

🎤 ДАННЫЕ:
   ├── Марина/             # 54 образца голоса (WAV) ✅
   ├── models/            # TTS модели
   ├── temp/              # Временные файлы
   └── calls_log/         # Логи звонков (создастся автоматически)


🎯 ЧТО УМЕЕТ СИСТЕМА:
═══════════════════════════════════════════════════════════════════

✅ Принимать телефонные звонки через Twilio
✅ Распознавать речь абонента (русский язык)
✅ Генерировать умные ответы через Gemini
✅ Отвечать голосом Лидии (клонирование голоса)
✅ Вести диалог с сохранением контекста
✅ Логировать все звонки с транскрипциями
✅ API для интеграции с другими системами


📊 АРХИТЕКТУРА:
═══════════════════════════════════════════════════════════════════

    Звонок → Twilio
               ↓
         Phone Service :8001
               ↓
          Orchestrator :8000
               ↓
       ┌───────┼───────┐
       ↓       ↓       ↓
      STT     LLM     TTS
    Whisper  Gemini  XTTS v2
               ↓
           Голос Лидии


🔑 НЕОБХОДИМЫЕ API КЛЮЧИ:
═══════════════════════════════════════════════════════════════════

✅ GEMINI_API_KEY - ОБЯЗАТЕЛЬНО
   Получить: https://makersuite.google.com/app/apikey
   Для генерации ответов секретаря

⚠️  TWILIO - Опционально (для реальных звонков)
   Account SID, Auth Token, Phone Number
   Получить: https://www.twilio.com


💻 СИСТЕМНЫЕ ТРЕБОВАНИЯ:
═══════════════════════════════════════════════════════════════════

✅ Ваша система:
   • GPU 1: NVIDIA P104-100 (8GB)
   • GPU 2: NVIDIA GeForce RTX 3060 (12GB)
   • Всего: 20GB VRAM ← Отлично! ✓
   • RAM: 64GB ← Отлично! ✓

Минимум для работы:
   • CPU: 4 cores
   • RAM: 16GB
   • GPU: 8GB+ VRAM (или CPU режим)
   • Диск: 10GB


🧪 БЫСТРЫЙ ТЕСТ:
═══════════════════════════════════════════════════════════════════

После запуска системы (./run.sh):

# Проверка здоровья
curl http://localhost:8000/health

# Синтез речи голосом Лидии
curl -X POST http://localhost:8000/tts \
  -H "Content-Type: application/json" \
  -d '{"text": "Здравствуйте! Это секретарь Марина."}' \
  -o test.wav

# Прослушать результат
ffplay test.wav


📱 ИНТЕГРАЦИЯ С ТЕЛЕФОНИЕЙ:
═══════════════════════════════════════════════════════════════════

Для приема реальных звонков:

1. Зарегистрируйтесь на Twilio.com
2. Получите телефонный номер
3. Добавьте credentials в .env
4. Настройте webhook: https://your-domain.com/incoming_call

Для локального тестирования используйте ngrok:
   ngrok http 8001


🛠️  НАСТРОЙКА ПОД СЕБЯ:
═══════════════════════════════════════════════════════════════════

1. Системный промпт секретаря
   Отредактируйте: llm_service.py
   Метод: _default_system_prompt()

2. Добавьте информацию о компании:
   • Название компании
   • График работы
   • Услуги/продукты
   • Контакты

3. Образцы голоса
   Уже готово! 54 WAV файла в папке Марина/


📞 ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ:
═══════════════════════════════════════════════════════════════════

Смотрите подробные примеры в:
   • examples.md - все варианты использования
   • CHEATSHEET.md - шпаргалка с командами


❓ TROUBLESHOOTING:
═══════════════════════════════════════════════════════════════════

Проблема: CUDA out of memory
Решение: Уменьшите размер модели в stt_service.py
         model_size = "small" или "tiny"

Проблема: API ключ не найден
Решение: Проверьте файл .env, должно быть:
         GEMINI_API_KEY=ваш_ключ (без пробелов!)

Проблема: Плохое качество голоса
Решение: Проверьте образцы в папке Марина/
         Должны быть чистые WAV без шума

Больше решений: README.md, раздел Troubleshooting


📚 ДОПОЛНИТЕЛЬНАЯ ИНФОРМАЦИЯ:
═══════════════════════════════════════════════════════════════════

• Подробная документация: README.md
• Архитектура системы: ARCHITECTURE.md
• Итоговая сводка: PROJECT_SUMMARY.md
• Примеры кода: examples.md


🚀 НАЧАТЬ РАБОТУ:
═══════════════════════════════════════════════════════════════════

1. Откройте QUICKSTART.md
2. Следуйте инструкциям
3. Через 5 минут система будет работать!


💡 ПОМОЩЬ И ПОДДЕРЖКА:
═══════════════════════════════════════════════════════════════════

Вопросы? Проблемы?
• Проверьте README.md
• Посмотрите examples.md
• Изучите CHEATSHEET.md


════════════════════════════════════════════════════════════════════
            🎉 СИСТЕМА ГОТОВА К ИСПОЛЬЗОВАНИЮ! 🎉
════════════════════════════════════════════════════════════════════

Начните с: ./setup.sh
Затем откройте: QUICKSTART.md

                     Удачи! 🚀
