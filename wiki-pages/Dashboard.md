# Dashboard (Главная панель)

Главная страница админ-панели отображает общее состояние системы, метрики сервисов и быстрый доступ к основным функциям.

> **Видимость:** Скрыта в режиме `cloud` и для роли `web`. Редирект на `/chat`.

## Обзор

Dashboard состоит из карточек статусов сервисов, GPU-спарклайнов и секции быстрых действий. Данные обновляются в реальном времени через SSE с автоматическим fallback на polling (5 сек).

## Карточки сервисов

Каждая карточка показывает статус компонента с цветовым индикатором:

| Сервис | Описание | Проверка |
|--------|----------|----------|
| **Orchestrator** | Основной API сервер (порт 8002) | HTTP `/health` |
| **vLLM** | Локальный LLM (Qwen/Llama/DeepSeek) | HTTP порт vLLM или Docker API |
| **XTTS v2** | Клонирование голоса (GPU) | Флаг инициализации в ServiceContainer |
| **Piper TTS** | Предобученные голоса (CPU) | Флаг инициализации |
| **STT** | Распознавание речи (Vosk/Whisper) | Флаг инициализации |
| **Redis** | Кэширование (опционально) | PING команда |
| **Database** | SQLite хранилище | Файл `data/secretary.db` |

### Цвета индикаторов

| Цвет | Значение |
|------|----------|
| Зелёный | Сервис работает нормально |
| Жёлтый | Запускается или предупреждение |
| Красный | Ошибка или остановлен |
| Серый | Не настроен / не требуется в текущем режиме |

## GPU метрики

Секция отображает данные с первого доступного GPU (nvidia-smi → PyTorch fallback):

| Метрика | Описание |
|---------|----------|
| **Утилизация** | Загрузка GPU (%), спарклайн за 5 мин (60 точек) |
| **VRAM** | Использование видеопамяти (allocated / total) |
| **Температура** | Температура GPU (°C) |

Спарклайны строятся через `useRealtimeMetrics` composable: SSE `/admin/monitor/gpu/stream` (предпочтительно) → polling `/admin/monitor/gpu` (fallback). История хранит 60 точек с интервалом 5 сек.

## Системные метрики

| Метрика | Описание |
|---------|----------|
| **CPU** | Загрузка процессора (%) |
| **RAM** | Использование оперативной памяти |
| **Streaming TTS** | Активные сессии и размер кэша |
| **LLM** | Длина истории, количество FAQ |
| **Запросы** | Общее число, успешные, среднее время ответа |

## Быстрые действия

- **Открыть чат** — переход на `/chat`
- **Мониторинг** — переход на `/monitoring` (детальные графики)
- **Health Check** — обращение к `/health` с отображением результата

## API

| Endpoint | Описание |
|----------|----------|
| `GET /admin/monitor/gpu` | GPU статистика |
| `GET /admin/monitor/gpu/stream` | SSE поток GPU метрик |
| `GET /admin/monitor/health` | Компонентный health check |
| `GET /admin/monitor/metrics` | Системные метрики и статистика запросов |
| `GET /health` | Общий health check (публичный) |

---

← [[Home]] | [[Chat]] →
