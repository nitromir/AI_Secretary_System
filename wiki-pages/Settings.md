# Settings (Настройки)

Профиль пользователя, безопасность, тема, язык и управление данными.

**Доступ:** все роли | **Путь:** `/settings`

## Профиль

### Информация

| Поле | Описание | Редактируемо |
|------|----------|-------------|
| **ID** | Числовой идентификатор | Нет |
| **Имя пользователя** | Логин | Нет |
| **Отображаемое имя** | Display name | Да |
| **Роль** | admin / user / web / guest | Нет (только через CLI) |
| **Дата создания** | Когда создан аккаунт | Нет |
| **Последний вход** | Время последнего логина | Нет |

### Обновление профиля

**API:** `PUT /admin/auth/profile` с телом `{"display_name": "Новое имя"}`

Гости (`guest`) не могут менять профиль.

### Смена пароля

1. Введите текущий пароль
2. Введите новый пароль (мин. 4 символа)
3. Подтвердите новый пароль
4. Нажмите "Изменить пароль"

**API:** `POST /admin/auth/change-password` с `{"old_password": "...", "new_password": "..."}`

Гости (`guest`) не могут менять пароль.

## Интерфейс

### Язык

| Язык | Код | Покрытие |
|------|-----|----------|
| Русский | `ru` | 100% |
| English | `en` | 100% |

Переключение мгновенное через vue-i18n, без перезагрузки. Сохраняется в localStorage.

### Тема

| Тема | Описание |
|------|----------|
| **Light** | Светлая тема — белый фон, тёмный текст |
| **Dark** | Тёмная тема — тёмный фон, светлый текст |
| **Night Eyes** | Тёплая тёмная — пониженная яркость, тёплые тона для длительной работы |

Тема сохраняется в Pinia store + localStorage (persistedstate). CSS-переменные определены в `admin/src/assets/main.css`.

## Резервное копирование

Подробная документация: [[Backup]]

### Быстрый экспорт

Кнопки для скачивания конфигурации:

| Тип | Что включено |
|-----|-------------|
| **FAQ** | Только FAQ записи |
| **TTS пресеты** | Только TTS пресеты |
| **Полный** | FAQ, TTS, персоны, боты, виджеты, cloud providers, sales config |

### Быстрый импорт

1. Нажмите "Импорт"
2. Выберите JSON файл (из предыдущего экспорта)
3. Подтвердите

Импорт использует стратегию merge (не перезаписывает всё), чувствительные данные (API ключи) маскируются при экспорте.

## О программе (About)

Доступна через навигацию:

| Параметр | Описание |
|----------|----------|
| **Версия** | Текущая версия из CHANGELOG |
| **Health** | Результат `/health` (статус, deployment_mode, сервисы) |
| **Deployment Mode** | full / cloud / local |
| **Ссылки** | GitHub репозиторий, Wiki, Issues |

## Управление пользователями (CLI)

Администратор может управлять пользователями через CLI:

```bash
python scripts/manage_users.py list                          # Список
python scripts/manage_users.py create <user> <pass> --role user  # Создать
python scripts/manage_users.py set-password <user> <pass>    # Сменить пароль
python scripts/manage_users.py set-role <user> <role>        # Сменить роль
python scripts/manage_users.py disable <user>                # Деактивировать
python scripts/manage_users.py enable <user>                 # Активировать
python scripts/manage_users.py delete <user>                 # Удалить
```

Роли: `admin`, `user`, `web`, `guest`. Подробнее о ролях: [[API-Reference]].

## API

| Endpoint | Описание |
|----------|----------|
| `POST /admin/auth/login` | Аутентификация, получение JWT |
| `GET /admin/auth/me` | Текущий пользователь + deployment_mode |
| `GET /admin/auth/profile` | Полный профиль |
| `PUT /admin/auth/profile` | Обновить display_name |
| `POST /admin/auth/change-password` | Сменить пароль |
| `GET /admin/auth/status` | Конфигурация аутентификации |

---

← [[Audit]] | [[Home]] | [[Backup]] →
