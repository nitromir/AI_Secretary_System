import { createI18n } from 'vue-i18n'

const messages = {
  ru: {
    // Navigation
    nav: {
      dashboard: 'Панель управления',
      chat: 'Чат',
      services: 'Сервисы',
      llm: 'LLM',
      tts: 'Голос',
      faq: 'FAQ',
      finetune: 'Обучение',
      monitoring: 'Мониторинг',
      models: 'Модели',
      widget: 'Виджет',
      telegram: 'Telegram',
      audit: 'Аудит',
      settings: 'Настройки',
      search: 'Поиск...',
      logout: 'Выход'
    },
    // Dashboard
    dashboard: {
      title: 'Панель управления',
      allOperational: 'Все системы работают',
      someServicesStopped: 'Некоторые сервисы остановлены',
      systemError: 'Ошибка системы',
      statusUnknown: 'Статус неизвестен',
      running: 'Запущено',
      stopped: 'Остановлено',
      errors: 'Ошибки',
      gpuMemory: 'Память GPU',
      gpuLoad: 'Нагрузка GPU',
      avgResponse: 'Среднее время',
      totalRequests: 'Всего запросов',
      services: 'Сервисы',
      refresh: 'Обновить',
      quickActions: 'Быстрые действия',
      llmSettings: 'Настройки LLM',
      configureModel: 'Настроить модель',
      voiceSettings: 'Настройки голоса',
      changeVoice: 'Изменить голос',
      faqEditor: 'Редактор FAQ',
      editResponses: 'Редактировать ответы',
      fineTuning: 'Дообучение',
      trainModel: 'Обучить модель',
      health: 'Здоровье компонентов'
    },
    // Services
    services: {
      title: 'Сервисы',
      startAll: 'Запустить все',
      stopAll: 'Остановить все',
      start: 'Запустить',
      stop: 'Остановить',
      restart: 'Перезапустить',
      viewLogs: 'Просмотр логов',
      status: 'Статус',
      pid: 'PID',
      memory: 'Память',
      port: 'Порт'
    },
    // LLM
    llm: {
      title: 'Настройки LLM',
      backend: 'Бэкенд',
      persona: 'Персона',
      parameters: 'Параметры',
      temperature: 'Температура',
      maxTokens: 'Макс. токенов',
      topP: 'Top P',
      repetitionPenalty: 'Штраф повтора',
      systemPrompt: 'Системный промпт',
      resetPrompt: 'Сбросить промпт'
    },
    // TTS
    tts: {
      title: 'Настройки голоса',
      currentVoice: 'Текущий голос',
      voices: 'Голоса',
      presets: 'Пресеты',
      customPresets: 'Пользовательские пресеты',
      testVoice: 'Тест голоса',
      createPreset: 'Создать пресет',
      speed: 'Скорость'
    },
    // FAQ
    faq: {
      title: 'Редактор FAQ',
      addEntry: 'Добавить запись',
      trigger: 'Триггер',
      response: 'Ответ',
      edit: 'Редактировать',
      delete: 'Удалить',
      reload: 'Перезагрузить',
      save: 'Сохранить',
      test: 'Тестировать',
      noResults: 'Нет результатов'
    },
    // Finetune
    finetune: {
      title: 'Дообучение модели',
      dataset: 'Датасет',
      uploadDataset: 'Загрузить датасет',
      processDataset: 'Обработать датасет',
      augmentDataset: 'Аугментировать',
      datasetStats: 'Статистика датасета',
      training: 'Обучение',
      config: 'Конфигурация',
      startTraining: 'Начать обучение',
      stopTraining: 'Остановить',
      progress: 'Прогресс',
      adapters: 'Адаптеры',
      activateAdapter: 'Активировать',
      deleteAdapter: 'Удалить'
    },
    // Monitoring
    monitoring: {
      title: 'Мониторинг',
      gpuStats: 'GPU статистика',
      systemStats: 'Системная статистика',
      errorLog: 'Журнал ошибок',
      clearErrors: 'Очистить'
    },
    // Common
    common: {
      save: 'Сохранить',
      cancel: 'Отмена',
      delete: 'Удалить',
      edit: 'Редактировать',
      add: 'Добавить',
      close: 'Закрыть',
      confirm: 'Подтвердить',
      loading: 'Загрузка...',
      error: 'Ошибка',
      success: 'Успешно',
      warning: 'Внимание',
      info: 'Информация',
      search: 'Поиск',
      filter: 'Фильтр',
      export: 'Экспорт',
      import: 'Импорт',
      settings: 'Настройки',
      copy: 'Копировать',
      copied: 'Скопировано'
    },
    // Auth
    auth: {
      login: 'Вход',
      logout: 'Выход',
      username: 'Имя пользователя',
      password: 'Пароль',
      signIn: 'Войти',
      signingIn: 'Вход...',
      invalidCredentials: 'Неверные учётные данные',
      welcome: 'Добро пожаловать'
    },
    // Widget
    widget: {
      title: 'Чат-виджет',
      description: 'Настройка виджета чата для вашего сайта',
      enabled: 'Включён',
      disabled: 'Выключен',
      saved: 'Настройки сохранены',
      saveFailed: 'Ошибка сохранения',
      tabs: {
        settings: 'Настройки',
        code: 'Код',
        instructions: 'Инструкции'
      },
      tunnelUrl: 'URL туннеля',
      tunnelUrlDesc: 'Публичный URL для доступа к API (ngrok, Cloudflare Tunnel)',
      tunnelUrlPlaceholder: 'https://your-tunnel.ngrok-free.app',
      tunnelUrlHint: 'Оставьте пустым для использования текущего адреса',
      appearance: 'Внешний вид',
      appearanceDesc: 'Настройте внешний вид виджета',
      widgetTitle: 'Заголовок',
      greeting: 'Приветствие',
      placeholder: 'Placeholder ввода',
      primaryColor: 'Основной цвет',
      position: 'Позиция',
      positions: {
        left: 'Слева',
        right: 'Справа'
      },
      allowedDomains: 'Разрешённые домены',
      allowedDomainsDesc: 'Домены, которым разрешено использовать виджет',
      domainPlaceholder: 'example.com',
      noDomains: 'Все домены разрешены',
      simpleCode: 'Простой код (рекомендуется)',
      simpleCodeDesc: 'Настройки загружаются автоматически с сервера',
      manualCode: 'Код с ручными настройками',
      manualCodeDesc: 'Используйте если нужно переопределить настройки',
      testWidget: 'Проверить виджет',
      step1Title: 'Запустите туннель',
      step1Desc: 'Для доступа к локальному серверу с внешнего сайта нужен туннель',
      step2Title: 'Настройте виджет',
      step2Desc: 'Укажите URL туннеля и настройте внешний вид',
      step2Item1: 'Вставьте URL туннеля в поле выше',
      step2Item2: 'Добавьте разрешённые домены',
      step2Item3: 'Настройте внешний вид виджета',
      step3Title: 'Добавьте код на сайт',
      step3Desc: 'Вставьте этот код перед закрывающим тегом </body>',
      step4Title: 'Включите виджет',
      step4Desc: 'Нажмите кнопку "Включён" и сохраните настройки',
      helperScript: 'Скрипт для запуска',
      helperScriptDesc: 'Запустите AI Secretary вместе с туннелем одной командой',
      recommended: 'рекомендуется',
      or: 'или'
    },
    // Telegram
    telegram: {
      title: 'Telegram бот',
      description: 'Настройка Telegram бота для общения с AI-ассистентом',
      running: 'Работает',
      stopped: 'Остановлен',
      online: 'Онлайн',
      offline: 'Оффлайн',
      status: 'Статус',
      sessions: 'Сессии',
      allowedUsers: 'Доступ',
      admins: 'Админы',
      allUsers: 'Все',
      start: 'Запустить',
      stop: 'Остановить',
      saved: 'Настройки сохранены',
      saveFailed: 'Ошибка сохранения',
      started: 'Бот запущен',
      startFailed: 'Ошибка запуска',
      alreadyRunning: 'Бот уже запущен',
      restarted: 'Бот перезапущен',
      restartFailed: 'Ошибка перезапуска',
      noToken: 'Токен не настроен',
      notEnabled: 'Бот не включён',
      sessionsCleared: 'Сессии очищены',
      tabs: {
        settings: 'Настройки',
        users: 'Пользователи',
        messages: 'Сообщения',
        instructions: 'Инструкции'
      },
      enableBot: 'Включить бота',
      enableBotDesc: 'Включить или выключить Telegram бота',
      botToken: 'Токен бота',
      botTokenDesc: 'Токен от BotFather для подключения к Telegram',
      tokenPlaceholder: 'Введите токен бота',
      getTokenFrom: 'Получите токен от',
      apiUrl: 'URL API',
      apiUrlDesc: 'Адрес AI Secretary для обработки сообщений',
      typingIndicator: 'Индикатор набора',
      typingIndicatorDesc: 'Показывать "печатает..." при ответе',
      allowedUsersList: 'Разрешённые пользователи',
      allowedUsersDesc: 'Telegram ID пользователей с доступом (пусто = все)',
      userIdPlaceholder: 'Telegram ID пользователя',
      allUsersAllowed: 'Доступ открыт для всех',
      adminUsersList: 'Администраторы бота',
      adminUsersDesc: 'Пользователи с доступом к команде /status',
      noAdmins: 'Нет администраторов',
      activeSessions: 'Активные сессии',
      sessionsCount: 'активных',
      clearSessions: 'Очистить',
      welcomeMessage: 'Приветственное сообщение',
      unauthorizedMessage: 'Сообщение для неавторизованных',
      errorMessage: 'Сообщение об ошибке',
      step1Title: 'Создайте бота в Telegram',
      step1Desc: 'Получите токен бота от @BotFather',
      step1Item1: 'Откройте @BotFather в Telegram',
      step1Item2: 'Отправьте /newbot и следуйте инструкциям',
      step1Item3: 'Скопируйте полученный токен',
      openBotFather: 'Открыть BotFather',
      step2Title: 'Вставьте токен',
      step2Desc: 'Вставьте токен в поле "Токен бота" на вкладке Настройки',
      step3Title: 'Настройте доступ',
      step3Desc: 'Добавьте Telegram ID пользователей, которым разрешён доступ к боту',
      step4Title: 'Запустите бота',
      step4Desc: 'Включите бота, сохраните настройки и нажмите кнопку "Запустить"',
      howToGetUserId: 'Как узнать Telegram ID?',
      getUserIdDesc: 'Отправьте любое сообщение боту:'
    },
    // Audit
    audit: {
      title: 'Журнал аудита',
      totalLogs: 'Всего записей',
      last24h: 'За 24 часа',
      resources: 'Ресурсов',
      actions: 'Действий',
      filters: 'Фильтры',
      action: 'Действие',
      resource: 'Ресурс',
      user: 'Пользователь',
      ip: 'IP адрес',
      timestamp: 'Время',
      details: 'Детали',
      allActions: 'Все действия',
      allResources: 'Все ресурсы',
      fromDate: 'С даты',
      toDate: 'По дату',
      apply: 'Применить',
      cleanup: 'Очистка',
      cleanupTitle: 'Удалить записи старше 90 дней',
      export: 'Экспорт',
      noLogs: 'Записей не найдено',
      showing: 'Показано',
      records: 'записей',
      page: 'Страница',
      logDetails: 'Детали записи'
    },
    // Themes
    themes: {
      light: 'Светлая',
      dark: 'Тёмная',
      system: 'Системная',
      'night-eyes': 'Ночной режим'
    }
  },
  en: {
    // Navigation
    nav: {
      dashboard: 'Dashboard',
      chat: 'Chat',
      services: 'Services',
      llm: 'LLM',
      tts: 'TTS',
      faq: 'FAQ',
      finetune: 'Fine-tune',
      monitoring: 'Monitoring',
      models: 'Models',
      widget: 'Widget',
      telegram: 'Telegram',
      audit: 'Audit',
      settings: 'Settings',
      search: 'Search...',
      logout: 'Logout'
    },
    // Dashboard
    dashboard: {
      title: 'Dashboard',
      allOperational: 'All Systems Operational',
      someServicesStopped: 'Some Services Stopped',
      systemError: 'System Error',
      statusUnknown: 'Status Unknown',
      running: 'Running',
      stopped: 'Stopped',
      errors: 'Errors',
      gpuMemory: 'GPU Memory',
      gpuLoad: 'GPU Load',
      avgResponse: 'Avg Response',
      totalRequests: 'Total Requests',
      services: 'Services',
      refresh: 'Refresh',
      quickActions: 'Quick Actions',
      llmSettings: 'LLM Settings',
      configureModel: 'Configure model',
      voiceSettings: 'Voice Settings',
      changeVoice: 'Change voice',
      faqEditor: 'FAQ Editor',
      editResponses: 'Edit responses',
      fineTuning: 'Fine-tuning',
      trainModel: 'Train model',
      health: 'Components Health'
    },
    // Services
    services: {
      title: 'Services',
      startAll: 'Start All',
      stopAll: 'Stop All',
      start: 'Start',
      stop: 'Stop',
      restart: 'Restart',
      viewLogs: 'View Logs',
      status: 'Status',
      pid: 'PID',
      memory: 'Memory',
      port: 'Port'
    },
    // LLM
    llm: {
      title: 'LLM Settings',
      backend: 'Backend',
      persona: 'Persona',
      parameters: 'Parameters',
      temperature: 'Temperature',
      maxTokens: 'Max Tokens',
      topP: 'Top P',
      repetitionPenalty: 'Repetition Penalty',
      systemPrompt: 'System Prompt',
      resetPrompt: 'Reset Prompt'
    },
    // TTS
    tts: {
      title: 'Voice Settings',
      currentVoice: 'Current Voice',
      voices: 'Voices',
      presets: 'Presets',
      customPresets: 'Custom Presets',
      testVoice: 'Test Voice',
      createPreset: 'Create Preset',
      speed: 'Speed'
    },
    // FAQ
    faq: {
      title: 'FAQ Editor',
      addEntry: 'Add Entry',
      trigger: 'Trigger',
      response: 'Response',
      edit: 'Edit',
      delete: 'Delete',
      reload: 'Reload',
      save: 'Save',
      test: 'Test',
      noResults: 'No results'
    },
    // Finetune
    finetune: {
      title: 'Model Fine-tuning',
      dataset: 'Dataset',
      uploadDataset: 'Upload Dataset',
      processDataset: 'Process Dataset',
      augmentDataset: 'Augment',
      datasetStats: 'Dataset Statistics',
      training: 'Training',
      config: 'Configuration',
      startTraining: 'Start Training',
      stopTraining: 'Stop',
      progress: 'Progress',
      adapters: 'Adapters',
      activateAdapter: 'Activate',
      deleteAdapter: 'Delete'
    },
    // Monitoring
    monitoring: {
      title: 'Monitoring',
      gpuStats: 'GPU Statistics',
      systemStats: 'System Statistics',
      errorLog: 'Error Log',
      clearErrors: 'Clear'
    },
    // Common
    common: {
      save: 'Save',
      cancel: 'Cancel',
      delete: 'Delete',
      edit: 'Edit',
      add: 'Add',
      close: 'Close',
      confirm: 'Confirm',
      loading: 'Loading...',
      error: 'Error',
      success: 'Success',
      warning: 'Warning',
      info: 'Info',
      search: 'Search',
      filter: 'Filter',
      export: 'Export',
      import: 'Import',
      settings: 'Settings',
      copy: 'Copy',
      copied: 'Copied'
    },
    // Auth
    auth: {
      login: 'Login',
      logout: 'Logout',
      username: 'Username',
      password: 'Password',
      signIn: 'Sign in',
      signingIn: 'Signing in...',
      invalidCredentials: 'Invalid credentials',
      welcome: 'Welcome'
    },
    // Widget
    widget: {
      title: 'Chat Widget',
      description: 'Configure chat widget for your website',
      enabled: 'Enabled',
      disabled: 'Disabled',
      saved: 'Settings saved',
      saveFailed: 'Save failed',
      tabs: {
        settings: 'Settings',
        code: 'Code',
        instructions: 'Instructions'
      },
      tunnelUrl: 'Tunnel URL',
      tunnelUrlDesc: 'Public URL to access API (ngrok, Cloudflare Tunnel)',
      tunnelUrlPlaceholder: 'https://your-tunnel.ngrok-free.app',
      tunnelUrlHint: 'Leave empty to use current address',
      appearance: 'Appearance',
      appearanceDesc: 'Customize widget appearance',
      widgetTitle: 'Title',
      greeting: 'Greeting',
      placeholder: 'Input placeholder',
      primaryColor: 'Primary color',
      position: 'Position',
      positions: {
        left: 'Left',
        right: 'Right'
      },
      allowedDomains: 'Allowed domains',
      allowedDomainsDesc: 'Domains allowed to use the widget',
      domainPlaceholder: 'example.com',
      noDomains: 'All domains allowed',
      simpleCode: 'Simple code (recommended)',
      simpleCodeDesc: 'Settings are loaded automatically from server',
      manualCode: 'Code with manual settings',
      manualCodeDesc: 'Use if you need to override settings',
      testWidget: 'Test widget',
      step1Title: 'Start tunnel',
      step1Desc: 'A tunnel is needed to access local server from external site',
      step2Title: 'Configure widget',
      step2Desc: 'Enter tunnel URL and customize appearance',
      step2Item1: 'Paste tunnel URL in the field above',
      step2Item2: 'Add allowed domains',
      step2Item3: 'Customize widget appearance',
      step3Title: 'Add code to site',
      step3Desc: 'Insert this code before closing </body> tag',
      step4Title: 'Enable widget',
      step4Desc: 'Click "Enabled" button and save settings',
      helperScript: 'Startup script',
      helperScriptDesc: 'Start AI Secretary with tunnel in one command',
      recommended: 'recommended',
      or: 'or'
    },
    // Telegram
    telegram: {
      title: 'Telegram Bot',
      description: 'Configure Telegram bot to chat with AI assistant',
      running: 'Running',
      stopped: 'Stopped',
      online: 'Online',
      offline: 'Offline',
      status: 'Status',
      sessions: 'Sessions',
      allowedUsers: 'Access',
      admins: 'Admins',
      allUsers: 'All',
      start: 'Start',
      stop: 'Stop',
      saved: 'Settings saved',
      saveFailed: 'Save failed',
      started: 'Bot started',
      startFailed: 'Start failed',
      alreadyRunning: 'Bot already running',
      restarted: 'Bot restarted',
      restartFailed: 'Restart failed',
      noToken: 'Token not configured',
      notEnabled: 'Bot not enabled',
      sessionsCleared: 'Sessions cleared',
      tabs: {
        settings: 'Settings',
        users: 'Users',
        messages: 'Messages',
        instructions: 'Instructions'
      },
      enableBot: 'Enable bot',
      enableBotDesc: 'Enable or disable Telegram bot',
      botToken: 'Bot token',
      botTokenDesc: 'Token from BotFather to connect to Telegram',
      tokenPlaceholder: 'Enter bot token',
      getTokenFrom: 'Get token from',
      apiUrl: 'API URL',
      apiUrlDesc: 'AI Secretary address to process messages',
      typingIndicator: 'Typing indicator',
      typingIndicatorDesc: 'Show "typing..." when responding',
      allowedUsersList: 'Allowed users',
      allowedUsersDesc: 'Telegram IDs with access (empty = all allowed)',
      userIdPlaceholder: 'Telegram user ID',
      allUsersAllowed: 'Access open for everyone',
      adminUsersList: 'Bot administrators',
      adminUsersDesc: 'Users with access to /status command',
      noAdmins: 'No administrators',
      activeSessions: 'Active sessions',
      sessionsCount: 'active',
      clearSessions: 'Clear',
      welcomeMessage: 'Welcome message',
      unauthorizedMessage: 'Unauthorized message',
      errorMessage: 'Error message',
      step1Title: 'Create bot in Telegram',
      step1Desc: 'Get bot token from @BotFather',
      step1Item1: 'Open @BotFather in Telegram',
      step1Item2: 'Send /newbot and follow instructions',
      step1Item3: 'Copy the received token',
      openBotFather: 'Open BotFather',
      step2Title: 'Enter token',
      step2Desc: 'Paste token in "Bot token" field on Settings tab',
      step3Title: 'Configure access',
      step3Desc: 'Add Telegram IDs of users allowed to access the bot',
      step4Title: 'Start bot',
      step4Desc: 'Enable bot, save settings and click "Start" button',
      howToGetUserId: 'How to get Telegram ID?',
      getUserIdDesc: 'Send any message to this bot:'
    },
    // Audit
    audit: {
      title: 'Audit Log',
      totalLogs: 'Total Records',
      last24h: 'Last 24h',
      resources: 'Resources',
      actions: 'Actions',
      filters: 'Filters',
      action: 'Action',
      resource: 'Resource',
      user: 'User',
      ip: 'IP Address',
      timestamp: 'Timestamp',
      details: 'Details',
      allActions: 'All Actions',
      allResources: 'All Resources',
      fromDate: 'From Date',
      toDate: 'To Date',
      apply: 'Apply',
      cleanup: 'Cleanup',
      cleanupTitle: 'Delete records older than 90 days',
      export: 'Export',
      noLogs: 'No records found',
      showing: 'Showing',
      records: 'records',
      page: 'Page',
      logDetails: 'Log Details'
    },
    // Themes
    themes: {
      light: 'Light',
      dark: 'Dark',
      system: 'System',
      'night-eyes': 'Night Eyes'
    }
  }
}

export const i18n = createI18n({
  legacy: false,
  locale: localStorage.getItem('admin_locale') || 'ru',
  fallbackLocale: 'en',
  messages
})

export function setLocale(locale: 'ru' | 'en') {
  i18n.global.locale.value = locale
  localStorage.setItem('admin_locale', locale)
}

export function getLocale(): 'ru' | 'en' {
  return i18n.global.locale.value as 'ru' | 'en'
}
